#!/usr/bin/env ruby
#
# Usage: controller [ boot | start | status | stop | restart | log | quit ]
#
# Example:
#   % controller boot    # start bluepilld and jobs
#   % controller status  # check on status of jobs
#   % controller stop    # stop jobs
#   % controller quit    # stop bluepilld
#
ENV['ROBOT_ENVIRONMENT'] ||= 'development'

if ARGV[0] == 'boot' 
  system "bluepill --no-privileged load config/environments/bluepill_#{ENV['ROBOT_ENVIRONMENT']}.rb"
else
  system "bluepill --no-privileged #{ARGV.join(' ')}"
end
